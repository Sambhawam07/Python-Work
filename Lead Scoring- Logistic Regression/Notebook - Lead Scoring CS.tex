\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    
    \usepackage{iftex}
    \ifPDFTeX
    	\usepackage[T1]{fontenc}
    	\usepackage{mathpazo}
    \else
    	\usepackage{fontspec}
    \fi

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}
    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range
    \makeatletter % fix for grffile with XeLaTeX
    \def\Gread@@xetex#1{%
      \IfFileExists{"\Gin@base".bb}%
      {\Gread@eps{\Gin@base.bb}}%
      {\Gread@@xetex@aux#1}%
    }
    \makeatother

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{Notebook - Lead Scoring CS}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb. 
    \makeatletter
        \newbox\Wrappedcontinuationbox 
        \newbox\Wrappedvisiblespacebox 
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}} 
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}} 
        \newcommand*\Wrappedcontinuationindent {3ex } 
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox} 
        % Take advantage of the already applied Pygments mark-up to insert 
        % potential linebreaks for TeX processing. 
        %        {, <, #, %, $, ' and ": go to next line. 
        %        _, }, ^, &, >, - and ~: stay at end of broken line. 
        % Use of \textquotesingle for straight quote. 
        \newcommand*\Wrappedbreaksatspecials {% 
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}% 
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}% 
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}% 
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}% 
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}% 
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}% 
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}% 
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}% 
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}% 
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}% 
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}% 
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}% 
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}% 
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}% 
        } 
        % Some characters . , ; ? ! / are not pygmentized. 
        % This macro makes them "active" and they will insert potential linebreaks 
        \newcommand*\Wrappedbreaksatpunct {% 
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}% 
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}% 
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}% 
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}% 
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}% 
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}% 
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}% 
            \catcode`\.\active
            \catcode`\,\active 
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active 
            \lccode`\~`\~ 	
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%
        
        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active 	
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}
    
    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        \ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \hypertarget{lead-scoring-case-study---logistic-regression}{%
\section{ Lead Scoring Case Study - Logistic
Regression}\label{lead-scoring-case-study---logistic-regression}}

\hypertarget{by-kumar-sambhawam}{%
\subparagraph{by: Kumar Sambhawam}\label{by-kumar-sambhawam}}

\hypertarget{business-understanding-and-problem-description}{%
\subsection{Business Understanding and Problem
Description:}\label{business-understanding-and-problem-description}}

\hypertarget{business}{%
\paragraph{Business:}\label{business}}

An education company named \textbf{X Education} sells online courses to
industry professionals. On any given day, many professionals who are
interested in the courses land on their website and browse for courses.
\#\#\#\# Marketing: The company markets its courses on several websites
and search engines like Google. Once these people land on the website,
they might browse the courses or fill up a form for the course or watch
some videos.

When these people fill up a form providing their email address or phone
number, they are classified to be a lead. Moreover, the company also
gets leads through past referrals.

Once these leads are acquired, employees from the sales team start
making calls, writing emails, etc. Through this process, some of the
leads get converted while most do not. \textbf{The typical lead
conversion rate at X education is around 30\%.}

\hypertarget{problem}{%
\paragraph{Problem:}\label{problem}}

Now, although X Education gets a lot of leads, its lead conversion rate
is very poor. For example, if, say, they acquire 100 leads in a day,
only about 30 of them are converted. \#\#\#\# Solution Proposed: To make
this process more efficient, the company wishes to identify the most
potential leads, also known as \textbf{`Hot Leads'}.

If they successfully identify this set of leads, the lead conversion
rate should go up as the sales team will now be focusing more on
communicating with the potential leads rather than making calls to
everyone. A typical lead conversion process can be represented using the
following funnel:

\textbf{Lead Conversion Process} - Demonstrated as a funnel As you can
see, there are a lot of leads generated in the initial stage (top) but
only a few of them come out as paying customers from the bottom.

In the middle stage, you need to nurture the potential leads well
(i.e.~educating the leads about the product, constantly communicating
etc. ) in order to get a higher lead conversion.

\hypertarget{your-job}{%
\paragraph{Your Job:}\label{your-job}}

X Education has appointed you to help them select the most promising
leads, i.e.~the leads that are most likely to convert into paying
customers. The company requires you to build a model wherein you need to
assign a lead score to each of the leads such that the customers with
higher lead score have a higher conversion chance and the customers with
lower lead score have a lower conversion chance.

\textbf{The CEO, in particular, has given a ballpark of the target lead
conversion rate to be around 80\%.}

\hypertarget{data-understanding}{%
\subsection{Data Understanding:}\label{data-understanding}}

You have been provided with a leads dataset from the past with around
9000 data points. This dataset consists of various attributes such as
Lead Source, Total Time Spent on Website, Total Visits, Last Activity,
etc. which may or may not be useful in ultimately deciding whether a
lead will be converted or not. The target variable, in this case, is the
column `Converted' which tells whether a past lead was converted or not
wherein 1 means it was converted and 0 means it wasn't converted.

Another thing that you also need to check out for are the levels present
in the categorical variables.

\textbf{Many of the categorical variables have a level called `Select'
which needs to be handled because it is as good as a null value.}

\hypertarget{goal}{%
\subsection{Goal:}\label{goal}}

\textbf{Build a logistic regression model to assign a lead score between
0 and 100 to each of the leads which can be used by the company to
target potential leads. A higher score would mean that the lead is hot,
i.e.~is most likely to convert whereas a lower score would mean that the
lead is cold and will mostly not get converted.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Supress Warnings}
\PY{k+kn}{import} \PY{n+nn}{warnings}
\PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Importing libraries}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
\PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}

\PY{c+c1}{\PYZsh{} visulaisation}
\PY{k+kn}{from} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k+kn}{import} \PY{n}{xticks}
\PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline

\PY{c+c1}{\PYZsh{} Data display coustomization}
\PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}rows}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
\PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

     \#\# DATA INSPECTION

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Leads.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{leads}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)} 
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                            Prospect ID  Lead Number              Lead Origin  \textbackslash{}
0  7927b2df-8bba-4d29-b9a2-b6e0beafe620       660737                      API
1  2a272436-5132-4136-86fa-dcc88c88f482       660728                      API
2  8cc8c611-a219-4f35-ad23-fdfd2656bd8a       660727  Landing Page Submission
3  0cc2df48-7cf4-4e39-9de9-19797f9b38cc       660719  Landing Page Submission
4  3256f628-e534-4826-9d63-4a8b88782852       660681  Landing Page Submission

      Lead Source Do Not Email Do Not Call  Converted  TotalVisits  \textbackslash{}
0      Olark Chat           No          No          0          0.0
1  Organic Search           No          No          0          5.0
2  Direct Traffic           No          No          1          2.0
3  Direct Traffic           No          No          0          1.0
4          Google           No          No          1          2.0

   Total Time Spent on Website  Page Views Per Visit            Last Activity  \textbackslash{}
0                            0                   0.0  Page Visited on Website
1                          674                   2.5             Email Opened
2                         1532                   2.0             Email Opened
3                          305                   1.0              Unreachable
4                         1428                   1.0        Converted to Lead

  Country           Specialization How did you hear about X Education  \textbackslash{}
0     NaN                   Select                             Select
1   India                   Select                             Select
2   India  Business Administration                             Select
3   India    Media and Advertising                      Word Of Mouth
4   India                   Select                              Other

  What is your current occupation  \textbackslash{}
0                      Unemployed
1                      Unemployed
2                         Student
3                      Unemployed
4                      Unemployed

  What matters most to you in choosing a course Search Magazine  \textbackslash{}
0                       Better Career Prospects     No       No
1                       Better Career Prospects     No       No
2                       Better Career Prospects     No       No
3                       Better Career Prospects     No       No
4                       Better Career Prospects     No       No

  Newspaper Article X Education Forums Newspaper Digital Advertisement  \textbackslash{}
0                No                 No        No                    No
1                No                 No        No                    No
2                No                 No        No                    No
3                No                 No        No                    No
4                No                 No        No                    No

  Through Recommendations Receive More Updates About Our Courses  \textbackslash{}
0                      No                                     No
1                      No                                     No
2                      No                                     No
3                      No                                     No
4                      No                                     No

                                  Tags      Lead Quality  \textbackslash{}
0          Interested in other courses  Low in Relevance
1                              Ringing               NaN
2  Will revert after reading the email          Might be
3                              Ringing          Not Sure
4  Will revert after reading the email          Might be

  Update me on Supply Chain Content Get updates on DM Content    Lead Profile  \textbackslash{}
0                                No                        No          Select
1                                No                        No          Select
2                                No                        No  Potential Lead
3                                No                        No          Select
4                                No                        No          Select

     City Asymmetrique Activity Index Asymmetrique Profile Index  \textbackslash{}
0  Select                   02.Medium                  02.Medium
1  Select                   02.Medium                  02.Medium
2  Mumbai                   02.Medium                    01.High
3  Mumbai                   02.Medium                    01.High
4  Mumbai                   02.Medium                    01.High

   Asymmetrique Activity Score  Asymmetrique Profile Score  \textbackslash{}
0                         15.0                        15.0
1                         15.0                        15.0
2                         14.0                        20.0
3                         13.0                        17.0
4                         15.0                        18.0

  I agree to pay the amount through cheque  \textbackslash{}
0                                       No
1                                       No
2                                       No
3                                       No
4                                       No

  A free copy of Mastering The Interview Last Notable Activity
0                                     No              Modified
1                                     No          Email Opened
2                                    Yes          Email Opened
3                                     No              Modified
4                                     No              Modified
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 9240 entries, 0 to 9239
Data columns (total 37 columns):
 \#   Column                                         Non-Null Count  Dtype
---  ------                                         --------------  -----
 0   Prospect ID                                    9240 non-null   object
 1   Lead Number                                    9240 non-null   int64
 2   Lead Origin                                    9240 non-null   object
 3   Lead Source                                    9204 non-null   object
 4   Do Not Email                                   9240 non-null   object
 5   Do Not Call                                    9240 non-null   object
 6   Converted                                      9240 non-null   int64
 7   TotalVisits                                    9103 non-null   float64
 8   Total Time Spent on Website                    9240 non-null   int64
 9   Page Views Per Visit                           9103 non-null   float64
 10  Last Activity                                  9137 non-null   object
 11  Country                                        6779 non-null   object
 12  Specialization                                 7802 non-null   object
 13  How did you hear about X Education             7033 non-null   object
 14  What is your current occupation                6550 non-null   object
 15  What matters most to you in choosing a course  6531 non-null   object
 16  Search                                         9240 non-null   object
 17  Magazine                                       9240 non-null   object
 18  Newspaper Article                              9240 non-null   object
 19  X Education Forums                             9240 non-null   object
 20  Newspaper                                      9240 non-null   object
 21  Digital Advertisement                          9240 non-null   object
 22  Through Recommendations                        9240 non-null   object
 23  Receive More Updates About Our Courses         9240 non-null   object
 24  Tags                                           5887 non-null   object
 25  Lead Quality                                   4473 non-null   object
 26  Update me on Supply Chain Content              9240 non-null   object
 27  Get updates on DM Content                      9240 non-null   object
 28  Lead Profile                                   6531 non-null   object
 29  City                                           7820 non-null   object
 30  Asymmetrique Activity Index                    5022 non-null   object
 31  Asymmetrique Profile Index                     5022 non-null   object
 32  Asymmetrique Activity Score                    5022 non-null   float64
 33  Asymmetrique Profile Score                     5022 non-null   float64
 34  I agree to pay the amount through cheque       9240 non-null   object
 35  A free copy of Mastering The Interview         9240 non-null   object
 36  Last Notable Activity                          9240 non-null   object
dtypes: float64(4), int64(3), object(30)
memory usage: 2.6+ MB
    \end{Verbatim}

    \begin{itemize}
\item ~
  \hypertarget{we-have-been-provided-with-37-features-and-9240-records}{%
  \paragraph{We have been provided with 37 features and 9240
  records}\label{we-have-been-provided-with-37-features-and-9240-records}}
\end{itemize}

     \#\# DATA CLEANING

    \hypertarget{dropping-sales-team-generated-features}{%
\subsubsection{Dropping sales-team generated
features:}\label{dropping-sales-team-generated-features}}

\begin{itemize}
\tightlist
\item
  These columns are generated after the sales team got in touch with the
  aspirant and after analysis of this interaction; As this data won't be
  available for a new prospect, we drop these to eliminate any model
  bias.
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Last Activity}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Quality}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tags}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Profile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Asymmetrique Activity Index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Asymmetrique Activity Score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Asymmetrique Profile Score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Asymmetrique Profile Index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{missing-value-analysis}{%
  \subsubsection{Missing Value Analysis}\label{missing-value-analysis}}
\end{itemize}

    \hypertarget{many-of-the-categorical-variables-have-a-level-called-select-which-needs-to-be-handled-because-it-is-as-good-as-a-null-value.-the-user-did-not-select-any-option}{%
\paragraph{Many of the categorical variables have a level called
`Select' which needs to be handled because it is as good as a null
value. (the user did not select any
option)}\label{many-of-the-categorical-variables-have-a-level-called-select-which-needs-to-be-handled-because-it-is-as-good-as-a-null-value.-the-user-did-not-select-any-option}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Select}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{missingno} \PY{k}{as} \PY{n+nn}{msno}
\PY{n}{msno}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x1cc70092a88>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_12_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\item ~
  \hypertarget{dropping-columns-with-more-than-60-missing-values}{%
  \paragraph{Dropping columns with more than 60\% missing
  values}\label{dropping-columns-with-more-than-60-missing-values}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{leads}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{o}{\PYZlt{}}\PY{l+m+mi}{60}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Prospect ID                                       0.00
Lead Number                                       0.00
Lead Origin                                       0.00
Lead Source                                       0.39
Do Not Email                                      0.00
Do Not Call                                       0.00
Converted                                         0.00
TotalVisits                                       1.48
Total Time Spent on Website                       0.00
Page Views Per Visit                              1.48
Country                                          26.63
Specialization                                   36.58
What is your current occupation                  29.11
What matters most to you in choosing a course    29.32
Search                                            0.00
Magazine                                          0.00
Newspaper Article                                 0.00
X Education Forums                                0.00
Newspaper                                         0.00
Digital Advertisement                             0.00
Through Recommendations                           0.00
Receive More Updates About Our Courses            0.00
Update me on Supply Chain Content                 0.00
Get updates on DM Content                         0.00
City                                             39.71
I agree to pay the amount through cheque          0.00
A free copy of Mastering The Interview            0.00
Last Notable Activity                             0.00
dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{column-wise-missing-value-analysis}{%
\subsubsection{Column-wise missing value
analysis}\label{column-wise-missing-value-analysis}}

    \begin{itemize}
\item ~
  \hypertarget{country}{%
  \paragraph{Country:}\label{country}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{o}{.}\PY{n}{Country}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
26.63
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{Country}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
India                   70.259740
NaN                     26.634199
United States            0.746753
United Arab Emirates     0.573593
Singapore                0.259740
Saudi Arabia             0.227273
United Kingdom           0.162338
Australia                0.140693
Qatar                    0.108225
Hong Kong                0.075758
Bahrain                  0.075758
France                   0.064935
Oman                     0.064935
unknown                  0.054113
South Africa             0.043290
Canada                   0.043290
Nigeria                  0.043290
Germany                  0.043290
Kuwait                   0.043290
Sweden                   0.032468
Uganda                   0.021645
Bangladesh               0.021645
Belgium                  0.021645
China                    0.021645
Ghana                    0.021645
Netherlands              0.021645
Philippines              0.021645
Asia/Pacific Region      0.021645
Italy                    0.021645
Kenya                    0.010823
Tanzania                 0.010823
Denmark                  0.010823
Indonesia                0.010823
Sri Lanka                0.010823
Malaysia                 0.010823
Liberia                  0.010823
Switzerland              0.010823
Russia                   0.010823
Vietnam                  0.010823
Name: Country, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{imputation-with-mode-india.}{%
\subparagraph{ Imputation with Mode:
India.}\label{imputation-with-mode-india.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{India}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{specialization}{%
  \paragraph{Specialization:}\label{specialization}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{o}{.}\PY{n}{Specialization}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
36.58
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{Specialization}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
NaN                                  36.580087
Finance Management                   10.562771
Human Resource Management             9.177489
Marketing Management                  9.069264
Operations Management                 5.443723
Business Administration               4.361472
IT Projects Management                3.961039
Supply Chain Management               3.777056
Banking, Investment And Insurance     3.658009
Media and Advertising                 2.196970
Travel and Tourism                    2.196970
International Business                1.926407
Healthcare Management                 1.720779
Hospitality Management                1.233766
E-COMMERCE                            1.212121
Retail Management                     1.082251
Rural and Agribusiness                0.790043
E-Business                            0.616883
Services Excellence                   0.432900
Name: Specialization, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{we-shall-bucket-all-categories-less-than-5-into-others-category}{%
\subparagraph{We shall bucket all categories less than 5\% into `Others'
category}\label{we-shall-bucket-all-categories-less-than-5-into-others-category}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{Specialization} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{Specialization}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Media and Advertising}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Travel and Tourism}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{International Business}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Pay per Click Ads}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Press\PYZus{}Release}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Healthcare Management}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Hospitality Management}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E\PYZhy{}COMMERCE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Rural and Agribusiness}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E\PYZhy{}Business}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Services Excellence}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Retail Management}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Others}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{Specialization}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
NaN                                  36.580087
Others                               13.409091
Finance Management                   10.562771
Human Resource Management             9.177489
Marketing Management                  9.069264
Operations Management                 5.443723
Business Administration               4.361472
IT Projects Management                3.961039
Supply Chain Management               3.777056
Banking, Investment And Insurance     3.658009
Name: Specialization, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{no-dominant-category-we-shall-name-missing-values-as-not-selected}{%
\subparagraph{No dominant category, we shall name missing values as `Not
Selected'}\label{no-dominant-category-we-shall-name-missing-values-as-not-selected}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{Specialization} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{Specialization}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Selected}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{what-is-your-current-occupation}{%
  \paragraph{What is your current
  occupation}\label{what-is-your-current-occupation}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{17}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{17}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
29.11
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{18}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{18}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Unemployed              60.606061
NaN                     29.112554
Working Professional     7.640693
Student                  2.272727
Other                    0.173160
Housewife                0.108225
Businessman              0.086580
Name: What is your current occupation, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{imputation-with-mode-unemployed.}{%
\subparagraph{ Imputation with Mode:
Unemployed.}\label{imputation-with-mode-unemployed.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{19}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Unemployed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} 
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{what-matters-most-to-you-in-choosing-a-course}{%
  \paragraph{What matters most to you in choosing a
  course}\label{what-matters-most-to-you-in-choosing-a-course}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
29.32
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Better Career Prospects      70.649351
NaN                          29.318182
Flexibility \& Convenience     0.021645
Other                         0.010823
Name: What matters most to you in choosing a course, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{imputation-with-mode-better-career-prospects.}{%
\subparagraph{ Imputation with Mode: `Better Career
Prospects'.}\label{imputation-with-mode-better-career-prospects.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{22}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Better Career Prospects}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} 
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{city}{%
  \paragraph{City}\label{city}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{p}{(}\PY{n}{leads}\PY{o}{.}\PY{n}{City}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
39.71
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{25}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{dropna} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{25}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
NaN                            39.707792
Mumbai                         34.870130
Thane \& Outskirts               8.138528
Other Cities                    7.424242
Other Cities of Maharashtra     4.945887
Other Metro Cities              4.112554
Tier II Cities                  0.800866
Name: City, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{imputation-with-mode-mumbai.}{%
\subparagraph{Imputation with Mode:
`Mumbai'.}\label{imputation-with-mode-mumbai.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{26}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mumbai}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{rest-missing-values-are-under-2-so-we-can-drop-these-rows.}{%
  \paragraph{ Rest missing values are under 2\% so we can drop these
  rows.}\label{rest-missing-values-are-under-2-so-we-can-drop-these-rows.}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{27}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{inplace} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{msno}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x1cc72dd9308>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\item ~
  \hypertarget{dealt-with-all-missing-values-retained-90749240-98.2-records.}{%
  \subparagraph{Dealt with all missing values, Retained 9074/9240
  (98.2\%)
  records.}\label{dealt-with-all-missing-values-retained-90749240-98.2-records.}}
\end{itemize}

     \#\# EDA

    \begin{itemize}
\item ~
  \hypertarget{univariate-analysis}{%
  \subsubsection{ UNIVARIATE ANALYSIS}\label{univariate-analysis}}
\end{itemize}

    \begin{itemize}
\item ~
  \hypertarget{target-variable-converted}{%
  \paragraph{ Target variable:
  `Converted'}\label{target-variable-converted}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
37.85541106458012
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\item ~
  \hypertarget{around-38-of-our-data-are-converted-leads}{%
  \subparagraph{Around 38\% of our data are converted
  leads}\label{around-38-of-our-data-are-converted-leads}}
\end{itemize}

    \begin{itemize}
\item ~
  \hypertarget{lead-origin}{%
  \paragraph{ Lead Origin:}\label{lead-origin}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{30}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Origin}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dark}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hatch}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Origin}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Origin}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{30}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0.,  500., 1000., 1500., 2000., 2500., 3000., 3500.]),
 <a list of 8 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_55_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inferences}{%
\subparagraph{Inferences:}\label{inferences}}

\begin{longtable}[]{@{}lll@{}}
\toprule
Category & Lead Amount & Conversion Rate\tabularnewline
\midrule
\endhead
API & High & Medium (\textasciitilde{}30\%)\tabularnewline
Landing Page Submission & High & Medium
(\textasciitilde{}35\%)\tabularnewline
Landing Add Form & Low & Very High
(\textasciitilde{}90\%)\tabularnewline
Lead Import & Very Low & Insignificant\tabularnewline
\bottomrule
\end{longtable}

\textbf{Focus more on improving lead conversion from `API' and `Landing
Page Submission' origin and generate more leads from `Lead Add Form'}

    \begin{itemize}
\item ~
  \hypertarget{lead-source}{%
  \paragraph{ Lead Source:}\label{lead-source}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{31}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hatch}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{31}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0.,  250.,  500.,  750., 1000., 1250., 1500., 1750., 2000.]),
 <a list of 9 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_58_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{bucketing-insignificant-categories-into-others}{%
\subparagraph{Bucketing insignificant categories into
``Others''}\label{bucketing-insignificant-categories-into-others}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{32}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{google}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Google}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Facebook}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Click2call}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Live Chat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NC\PYZus{}EDM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Pay per Click Ads}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Press\PYZus{}Release}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Social Media}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WeLearn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bing}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blog}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{testone}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{welearnblog\PYZus{}Home}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{youtubechannel}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Others}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hatch}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lead Source}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0.,  250.,  500.,  750., 1000., 1250., 1500., 1750., 2000.]),
 <a list of 9 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_61_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inferences}{%
\subparagraph{Inferences:}\label{inferences}}

\begin{longtable}[]{@{}lll@{}}
\toprule
Category & Lead Amount & Conversion Rate\tabularnewline
\midrule
\endhead
Olark Chat & High & Medium (\textasciitilde{}23\%)\tabularnewline
Organic Search & Medium & Medium (\textasciitilde{}36\%)\tabularnewline
Direct Traffic & High & Medium (\textasciitilde{}32\%)\tabularnewline
Google & High & Medium (\textasciitilde{}39\%)\tabularnewline
Referal Sites & Low & Insignificant\tabularnewline
Reference & Low & High\tabularnewline
Wellingak Website & Very Low & Very High\tabularnewline
Others & Insignificant & Insignificant\tabularnewline
\bottomrule
\end{longtable}

\textbf{Focus on improving lead converion from `Olark Chat', `Organic
Search', `Direct Traffic', and `Google' and generate more leads through
`Reference' and `Welingak Website'}

    \begin{itemize}
\item ~
  \hypertarget{do-not-call}{%
  \paragraph{ Do not call:}\label{do-not-call}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{34}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Call}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hatch}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Call}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Call}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{34}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0., 1000., 2000., 3000., 4000., 5000., 6000.]),
 <a list of 7 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_64_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{35}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Do Not Call}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{35}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     9072
Yes       2
Name: Do Not Call, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-not-much-variance-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, not much variance, hence we
shall drop
it:}\label{this-column-is-insensitive-not-much-variance-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{36}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Do Not Call}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{do-not-email}{%
  \paragraph{ Do not Email:}\label{do-not-email}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{36}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Email}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hatch}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Email}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Do Not Email}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{36}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0., 1000., 2000., 3000., 4000., 5000., 6000.]),
 <a list of 7 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_69_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Do Not Email}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     8358
Yes     716
Name: Do Not Email, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-not-much-variance-most-values-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, not much variance, most values
are `No', hence we shall drop
it:}\label{this-column-is-insensitive-not-much-variance-most-values-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Do Not Email}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{total-visits}{%
  \paragraph{ Total Visits:}\label{total-visits}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{y} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{x} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x2ded6d6eec8>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_74_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{too-many-ouliers-lets-handle-them-first}{%
\subparagraph{Too many ouliers, let's handle them
first:}\label{too-many-ouliers-lets-handle-them-first}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{percentiles}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{0.05}\PY{p}{,}\PY{o}{.}\PY{l+m+mi}{25}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{5}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{75}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{90}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{95}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{99}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
count    9074.000000
mean        3.456028
std         4.858802
min         0.000000
5\%          0.000000
25\%         1.000000
50\%         3.000000
75\%         5.000000
90\%         7.000000
95\%        10.000000
99\%        17.000000
max       251.000000
Name: TotalVisits, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{capping-high-range-outliers-to-upper-fence-at-95ile}{%
\subparagraph{Capping High range outliers to upper fence at
95\%ile}\label{capping-high-range-outliers-to-upper-fence-at-95ile}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.95}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
10.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{42}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.95}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.95}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{y} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{x} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x2ded6df7308>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_80_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inferences}{%
\subparagraph{Inferences:}\label{inferences}}

\begin{itemize}
\tightlist
\item
  Median for converted and not converted leads are the same.
\end{itemize}

\textbf{No prominent pattern observed in Total Visits.}

    \begin{itemize}
\item ~
  \hypertarget{total-time-spent-on-website}{%
  \paragraph{ Total time spent on
  website:}\label{total-time-spent-on-website}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{y} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Time Spent on Website}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{x} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{magma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x2ded6e72808>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_83_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inferences}{%
\subparagraph{Inferences:}\label{inferences}}

\begin{itemize}
\tightlist
\item
  People spending more time on the website have more chances of getting
  converted.
\end{itemize}

\textbf{Focus should be given on making the website more user friendly
and engaging content should be displayed to make leads spend more time.}

    \begin{itemize}
\item ~
  \hypertarget{page-views-per-visit}{%
  \paragraph{ Page views per visit:}\label{page-views-per-visit}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{y} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{x} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x1cc72f2e208>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_86_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{too-many-ouliers-lets-handle-them-first}{%
\subparagraph{Too many ouliers, let's handle them
first:}\label{too-many-ouliers-lets-handle-them-first}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{percentiles}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{0.05}\PY{p}{,}\PY{o}{.}\PY{l+m+mi}{25}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{5}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{75}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{90}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{95}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{99}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
count    9074.000000
mean        2.370151
std         2.160871
min         0.000000
5\%          0.000000
25\%         1.000000
50\%         2.000000
75\%         3.200000
90\%         5.000000
95\%         6.000000
99\%         9.000000
max        55.000000
Name: Page Views Per Visit, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{capping-high-range-outliers-to-upper-fence-at-99ile}{%
\subparagraph{Capping High range outliers to upper fence at
99\%ile}\label{capping-high-range-outliers-to-upper-fence-at-99ile}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.99}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.9}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{y} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{x} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.axes.\_subplots.AxesSubplot at 0x1cc733cfd48>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_91_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inferences}{%
\subparagraph{Inferences:}\label{inferences}}

\begin{itemize}
\tightlist
\item
  Median for converted and not converted leads are the same.
\end{itemize}

\textbf{No prominent pattern observed in Page Views Per Visit.}

    \begin{itemize}
\item ~
  \hypertarget{country}{%
  \paragraph{Country:}\label{country}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Country}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dark}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Country}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Country}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0., 1000., 2000., 3000., 4000., 5000., 6000.]),
 <a list of 7 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_94_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{this-column-is-insensitive-not-much-variancemost-values-are-india-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, not much variance,most values
are `India', hence we shall drop
it:}\label{this-column-is-insensitive-not-much-variancemost-values-are-india-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{42}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{specialization}{%
  \paragraph{Specialization:}\label{specialization}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Specialization}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dark}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Specialization}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Specialization}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0.,  500., 1000., 1500., 2000., 2500., 3000.]),
 <a list of 7 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_98_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inference}{%
\subparagraph{ Inference}\label{inference}}

\begin{itemize}
\tightlist
\item
  It can be seen that almost all the specializations have a similar
  conversion rate of 40-50\%
\item
  Conversion rate of a person who has selected a specialization is
  almost twice as one who hasn't (\textasciitilde{}25\%)
\end{itemize}

    \textbf{Selecting a prefered specialization should be made a mandatory
field to filter out focussed candidates.}

    \begin{itemize}
\item ~
  \hypertarget{what-is-your-current-occupation}{%
  \paragraph{What is your current
  occupation:}\label{what-is-your-current-occupation}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{What is your current occupation}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{magma}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{What is your current occupation}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Occupation}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0., 1000., 2000., 3000., 4000., 5000., 6000.]),
 <a list of 7 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_102_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inference}{%
\subparagraph{Inference}\label{inference}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Conversion rate for `Working Professionals' is very high.
\item
  Most leads are `Unemployed' and have around 30-35\% conversion rate.
\end{enumerate}

\textbf{More working professionals should be approched}

    \begin{itemize}
\item ~
  \hypertarget{what-matters-most-to-you-in-choosing-a-course}{%
  \paragraph{What matters most to you in choosing a
  course:}\label{what-matters-most-to-you-in-choosing-a-course}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{45}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{45}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Better Career Prospects      9072
Flexibility \& Convenience       1
Other                           1
Name: What matters most to you in choosing a course, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-not-much-variancemost-values-are-better-career-prospects-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, not much variance,most values
are `Better Career Prospects', hence we shall drop
it:}\label{this-column-is-insensitive-not-much-variancemost-values-are-better-career-prospects-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{46}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What matters most to you in choosing a course}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{search}{%
  \paragraph{Search:}\label{search}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{47}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Search}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{47}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     9060
Yes      14
Name: Search, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-not-much-variancemost-values-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, not much variance,most values
are `No', hence we shall drop
it:}\label{this-column-is-insensitive-not-much-variancemost-values-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{48}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Search}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{magazine}{%
  \paragraph{Magazine:}\label{magazine}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Magazine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No    9074
Name: Magazine, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-no-variance-at-all-all-values-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, no variance at all ,all values
are `No', hence we shall drop
it:}\label{this-column-is-insensitive-no-variance-at-all-all-values-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{50}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Magazine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{newspaper-article}{%
  \paragraph{Newspaper Article:}\label{newspaper-article}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newspaper Article}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     9072
Yes       2
Name: Newspaper Article, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-almost-no-variance-all-values-but-2-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, almost no variance ,all values
but 2 are `No', hence we shall drop
it:}\label{this-column-is-insensitive-almost-no-variance-all-values-but-2-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{52}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newspaper Article}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{newspaper}{%
  \paragraph{Newspaper:}\label{newspaper}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{53}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newspaper}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{53}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     9073
Yes       1
Name: Newspaper, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-almost-no-variance-all-values-but-1-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, almost no variance ,all values
but 1 are `No', hence we shall drop
it:}\label{this-column-is-insensitive-almost-no-variance-all-values-but-1-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{54}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Newspaper}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{x-education-forums}{%
  \paragraph{X Education Forums:}\label{x-education-forums}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{55}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{X Education Forums}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{55}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
No     9073
Yes       1
Name: X Education Forums, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{this-column-is-insensitive-almost-no-variance-all-values-but-1-are-no-hence-we-shall-drop-it}{%
\subparagraph{This column is insensitive, almost no variance ,all values
but 1 are `No', hence we shall drop
it:}\label{this-column-is-insensitive-almost-no-variance-all-values-but-1-are-no-hence-we-shall-drop-it}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{56}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{X Education Forums}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{this-following-columns-are-also-insensitive-and-show-almost-no-variance-hence-we-shall-drop-all-of-these-too}{%
  \paragraph{This following columns are also insensitive, and show
  almost no variance , hence we shall drop all of these
  too:}\label{this-following-columns-are-also-insensitive-and-show-almost-no-variance-hence-we-shall-drop-all-of-these-too}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{57}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Digital Advertisement}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Through Recommendations}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Receive More Updates About Our Courses}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Update me on Supply Chain Content}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Get updates on DM Content}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I agree to pay the amount through cheque}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A free copy of Mastering The Interview}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{city}{%
  \paragraph{City:}\label{city}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{58}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set\PYZus{}style}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{darkgrid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{x} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{City}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{hue} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Converted}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data} \PY{o}{=} \PY{n}{leads}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dark}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{City}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{17}\PY{p}{,} \PY{n}{fontweight}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bold}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{City}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{size} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{58}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(array([   0., 1000., 2000., 3000., 4000., 5000.]),
 <a list of 6 Text major ticklabel objects>)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_131_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{inference}{%
\subparagraph{Inference}\label{inference}}

\begin{itemize}
\tightlist
\item
  Most leads are from Mumbai with around 30\% conversion rate.
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{59}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
Int64Index: 9074 entries, 0 to 9239
Data columns (total 12 columns):
 \#   Column                           Non-Null Count  Dtype
---  ------                           --------------  -----
 0   Prospect ID                      9074 non-null   object
 1   Lead Origin                      9074 non-null   object
 2   Lead Source                      9074 non-null   object
 3   Do Not Email                     9074 non-null   object
 4   Converted                        9074 non-null   int64
 5   TotalVisits                      9074 non-null   float64
 6   Total Time Spent on Website      9074 non-null   int64
 7   Page Views Per Visit             9074 non-null   float64
 8   Specialization                   9074 non-null   object
 9   What is your current occupation  9074 non-null   object
 10  City                             9074 non-null   object
 11  Last Notable Activity            9074 non-null   object
dtypes: float64(2), int64(2), object(8)
memory usage: 1.2+ MB
    \end{Verbatim}

    \hypertarget{we-are-finally-left-with-1-categorical-target-variable-and-9-features--3-numerical-and-6-categorical.-ignoring-prospect-id}{%
\subparagraph{We are finally left with 1 categorical target variable,
and 9 features- 3 numerical and 6 categorical. (ignoring Prospect
ID)}\label{we-are-finally-left-with-1-categorical-target-variable-and-9-features--3-numerical-and-6-categorical.-ignoring-prospect-id}}

     \#\# MODELLING

    \begin{itemize}
\item ~
  \hypertarget{data-preparation}{%
  \subsubsection{Data Preparation}\label{data-preparation}}
\end{itemize}

    \begin{itemize}
\item ~
  \hypertarget{categorical-features-dummification-one-hot-encoding}{%
  \paragraph{Categorical Features: Dummification / One-Hot
  Encoding}\label{categorical-features-dummification-one-hot-encoding}}

  \begin{itemize}
  \tightlist
  \item
    Creating dummies of 10 categorical features.
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{61}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{leads}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Origin}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Specialization}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                              \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Last Notable Activity}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{drop\PYZus{}first}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{leads} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{leads}\PY{p}{,} \PY{n}{dummies}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{leads} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Origin}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Source}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Specialization}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Last Notable Activity}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        KeyError                                  Traceback (most recent call last)

        <ipython-input-61-6c66e2a1f562> in <module>
          1 dummies = pd.get\_dummies(leads[['Lead Origin', 'Lead Source','Specialization','What is your current occupation',
    ----> 2                               'City','Last Notable Activity']], drop\_first=True)
          3 
          4 leads = pd.concat([leads, dummies], axis=1)
          5 
    

        \textasciitilde{}\textbackslash{}anaconda3\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}pandas\textbackslash{}core\textbackslash{}frame.py in \_\_getitem\_\_(self, key)
       2804             if is\_iterator(key):
       2805                 key = list(key)
    -> 2806             indexer = self.loc.\_get\_listlike\_indexer(key, axis=1, raise\_missing=True)[1]
       2807 
       2808         \# take() does not accept boolean indexers
    

        \textasciitilde{}\textbackslash{}anaconda3\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}pandas\textbackslash{}core\textbackslash{}indexing.py in \_get\_listlike\_indexer(self, key, axis, raise\_missing)
       1551 
       1552         self.\_validate\_read\_indexer(
    -> 1553             keyarr, indexer, o.\_get\_axis\_number(axis), raise\_missing=raise\_missing
       1554         )
       1555         return keyarr, indexer
    

        \textasciitilde{}\textbackslash{}anaconda3\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}pandas\textbackslash{}core\textbackslash{}indexing.py in \_validate\_read\_indexer(self, key, indexer, axis, raise\_missing)
       1638             if missing == len(indexer):
       1639                 axis\_name = self.obj.\_get\_axis\_name(axis)
    -> 1640                 raise KeyError(f"None of [\{key\}] are in the [\{axis\_name\}]")
       1641 
       1642             \# We (temporarily) allow for some missing keys with .loc, except in
    

        KeyError: "None of [Index(['Lead Origin', 'Lead Source', 'Specialization',\textbackslash{}n       'What is your current occupation', 'City', 'Last Notable Activity'],\textbackslash{}n      dtype='object')] are in the [columns]"

    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{leads}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{we-now-have-1-categorical-target-variable-and-47-features--3-numerical-and-44-categorical.-ignoring-prospect-id}{%
\subparagraph{We now have 1 categorical target variable, and 47
features- 3 numerical and 44 categorical. (ignoring Prospect
ID)}\label{we-now-have-1-categorical-target-variable-and-47-features--3-numerical-and-44-categorical.-ignoring-prospect-id}}

    \begin{itemize}
\item ~
  \hypertarget{splitting-data}{%
  \subsubsection{Splitting Data}\label{splitting-data}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} feature map}
\PY{n}{X} \PY{o}{=} \PY{n}{leads}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Prospect ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{c+c1}{\PYZsh{} target}
\PY{n}{y} \PY{o}{=} \PY{n}{leads}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{c+c1}{\PYZsh{} 70\PYZhy{}30 split}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k+kn}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{train\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{42}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item ~
  \hypertarget{scaling}{%
  \subsubsection{Scaling}\label{scaling}}

  \begin{itemize}
  \tightlist
  \item
    3 numerical features
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{71}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k+kn}{import} \PY{n}{StandardScaler}

\PY{n}{scaler} \PY{o}{=} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}

\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Time Spent on Website}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Time Spent on Website}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}

\PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{71}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
      TotalVisits  Total Time Spent on Website  Page Views Per Visit  \textbackslash{}
1943    -0.432839                     1.704380             -0.153953
456     -0.432839                    -0.789845             -0.153953
6547     0.644762                    -0.176811              1.481796
8836     0.285562                     2.117949              0.936547
6529     0.644762                     0.315446              1.481796

      Lead Origin\_Landing Page Submission  Lead Origin\_Lead Add Form  \textbackslash{}
1943                                    1                          0
456                                     0                          0
6547                                    1                          0
8836                                    0                          0
6529                                    1                          0

      Lead Origin\_Lead Import  Lead Source\_Google  Lead Source\_Olark Chat  \textbackslash{}
1943                        0                   0                       0
456                         0                   0                       0
6547                        0                   0                       0
8836                        0                   0                       0
6529                        0                   0                       0

      Lead Source\_Organic Search  Lead Source\_Others  Lead Source\_Reference  \textbackslash{}
1943                           0                   0                      0
456                            0                   0                      0
6547                           0                   0                      0
8836                           1                   0                      0
6529                           1                   0                      0

      Lead Source\_Referral Sites  Lead Source\_Welingak Website  \textbackslash{}
1943                           0                             0
456                            1                             0
6547                           0                             0
8836                           0                             0
6529                           0                             0

      Specialization\_Business Administration  \textbackslash{}
1943                                       0
456                                        0
6547                                       0
8836                                       0
6529                                       0

      Specialization\_Finance Management  \textbackslash{}
1943                                  0
456                                   0
6547                                  0
8836                                  0
6529                                  0

      Specialization\_Human Resource Management  \textbackslash{}
1943                                         0
456                                          0
6547                                         0
8836                                         0
6529                                         0

      Specialization\_IT Projects Management  \textbackslash{}
1943                                      0
456                                       0
6547                                      0
8836                                      0
6529                                      0

      Specialization\_Marketing Management  Specialization\_Not Selected  \textbackslash{}
1943                                    1                            0
456                                     0                            1
6547                                    1                            0
8836                                    0                            0
6529                                    0                            0

      Specialization\_Operations Management  Specialization\_Others  \textbackslash{}
1943                                     0                      0
456                                      0                      0
6547                                     0                      0
8836                                     0                      0
6529                                     0                      1

      Specialization\_Supply Chain Management  \textbackslash{}
1943                                       0
456                                        0
6547                                       0
8836                                       1
6529                                       0

      What is your current occupation\_Housewife  \textbackslash{}
1943                                          0
456                                           0
6547                                          0
8836                                          0
6529                                          0

      What is your current occupation\_Other  \textbackslash{}
1943                                      0
456                                       0
6547                                      0
8836                                      0
6529                                      0

      What is your current occupation\_Student  \textbackslash{}
1943                                        0
456                                         0
6547                                        0
8836                                        0
6529                                        0

      What is your current occupation\_Unemployed  \textbackslash{}
1943                                           1
456                                            1
6547                                           1
8836                                           1
6529                                           0

      What is your current occupation\_Working Professional  City\_Other Cities  \textbackslash{}
1943                                                  0                     0
456                                                   0                     0
6547                                                  0                     0
8836                                                  0                     0
6529                                                  1                     0

      City\_Other Cities of Maharashtra  City\_Other Metro Cities  \textbackslash{}
1943                                 0                        0
456                                  0                        0
6547                                 0                        0
8836                                 0                        1
6529                                 0                        1

      City\_Thane \& Outskirts  City\_Tier II Cities  \textbackslash{}
1943                       0                    0
456                        0                    0
6547                       0                    0
8836                       0                    0
6529                       0                    0

      Last Notable Activity\_Email Bounced  \textbackslash{}
1943                                    0
456                                     0
6547                                    0
8836                                    0
6529                                    0

      Last Notable Activity\_Email Link Clicked  \textbackslash{}
1943                                         0
456                                          0
6547                                         0
8836                                         0
6529                                         0

      Last Notable Activity\_Email Marked Spam  \textbackslash{}
1943                                        0
456                                         0
6547                                        0
8836                                        0
6529                                        0

      Last Notable Activity\_Email Opened  \textbackslash{}
1943                                   1
456                                    0
6547                                   0
8836                                   0
6529                                   0

      Last Notable Activity\_Email Received  \textbackslash{}
1943                                     0
456                                      0
6547                                     0
8836                                     0
6529                                     0

      Last Notable Activity\_Form Submitted on Website  \textbackslash{}
1943                                                0
456                                                 0
6547                                                0
8836                                                0
6529                                                0

      Last Notable Activity\_Had a Phone Conversation  \textbackslash{}
1943                                               0
456                                                0
6547                                               0
8836                                               0
6529                                               0

      Last Notable Activity\_Modified  \textbackslash{}
1943                               0
456                                1
6547                               0
8836                               1
6529                               0

      Last Notable Activity\_Olark Chat Conversation  \textbackslash{}
1943                                              0
456                                               0
6547                                              0
8836                                              0
6529                                              0

      Last Notable Activity\_Page Visited on Website  \textbackslash{}
1943                                              0
456                                               0
6547                                              0
8836                                              0
6529                                              0

      Last Notable Activity\_Resubscribed to emails  \textbackslash{}
1943                                             0
456                                              0
6547                                             0
8836                                             0
6529                                             0

      Last Notable Activity\_SMS Sent  Last Notable Activity\_Unreachable  \textbackslash{}
1943                               0                                  0
456                                0                                  0
6547                               1                                  0
8836                               0                                  0
6529                               1                                  0

      Last Notable Activity\_Unsubscribed  \textbackslash{}
1943                                   0
456                                    0
6547                                   0
8836                                   0
6529                                   0

      Last Notable Activity\_View in browser link Clicked
1943                                                  0
456                                                   0
6547                                                  0
8836                                                  0
6529                                                  0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\item ~
  \hypertarget{model-building}{%
  \subsubsection{Model Building}\label{model-building}}
\end{itemize}

    \begin{itemize}
\item ~
  \hypertarget{building-model-with-all-47-features}{%
  \paragraph{Building model with all 47
  features}\label{building-model-with-all-47-features}}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{sm}

\PY{c+c1}{\PYZsh{} Logistic regression model}
\PY{n}{classifer} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{GLM}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,}\PY{p}{(}\PY{n}{sm}\PY{o}{.}\PY{n}{add\PYZus{}constant}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{family} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{families}\PY{o}{.}\PY{n}{Binomial}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\PY{n}{classifer}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<class 'statsmodels.iolib.summary.Summary'>
"""
                 Generalized Linear Model Regression Results
==============================================================================
Dep. Variable:              Converted   No. Observations:                 6351
Model:                            GLM   Df Residuals:                     6305
Model Family:                Binomial   Df Model:                           45
Link Function:                  logit   Scale:                          1.0000
Method:                          IRLS   Log-Likelihood:                -2620.0
Date:                Sun, 25 Oct 2020   Deviance:                       5239.9
Time:                        17:39:26   Pearson chi2:                 6.45e+03
No. Iterations:                    21
Covariance Type:            nonrobust
================================================================================
========================================
                                                           coef    std err
z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------------------
----------------------------------------
const                                                   22.3883   4.82e+04
0.000      1.000   -9.44e+04    9.45e+04
TotalVisits                                              0.3133      0.055
5.731      0.000       0.206       0.420
Total Time Spent on Website                              1.1031      0.040
27.266      0.000       1.024       1.182
Page Views Per Visit                                    -0.2205      0.060
-3.705      0.000      -0.337      -0.104
Lead Origin\_Landing Page Submission                     -1.0014      0.137
-7.336      0.000      -1.269      -0.734
Lead Origin\_Lead Add Form                                0.7114      1.087
0.654      0.513      -1.420       2.843
Lead Origin\_Lead Import                                  0.7662      0.836
0.917      0.359      -0.872       2.404
Lead Source\_Google                                       0.3712      0.096
3.853      0.000       0.182       0.560
Lead Source\_Olark Chat                                   1.3122      0.158
8.319      0.000       1.003       1.621
Lead Source\_Organic Search                               0.1405      0.129
1.089      0.276      -0.112       0.393
Lead Source\_Others                                       0.6162      0.671
0.918      0.359      -0.699       1.932
Lead Source\_Reference                                    2.9668      1.112
2.667      0.008       0.787       5.147
Lead Source\_Referral Sites                               0.0429      0.329
0.130      0.896      -0.601       0.687
Lead Source\_Welingak Website                             6.3144      1.489
4.240      0.000       3.395       9.233
Specialization\_Business Administration                  -0.1468      0.236
-0.623      0.533      -0.608       0.315
Specialization\_Finance Management                       -0.2042      0.203
-1.004      0.315      -0.603       0.194
Specialization\_Human Resource Management                -0.0702      0.207
-0.340      0.734      -0.475       0.335
Specialization\_IT Projects Management                   -0.2387      0.247
-0.965      0.334      -0.723       0.246
Specialization\_Marketing Management                      0.0179      0.206
0.087      0.931      -0.386       0.421
Specialization\_Not Selected                             -1.3024      0.211
-6.161      0.000      -1.717      -0.888
Specialization\_Operations Management                    -0.2544      0.230
-1.107      0.268      -0.705       0.196
Specialization\_Others                                   -0.2979      0.198
-1.503      0.133      -0.686       0.091
Specialization\_Supply Chain Management                  -0.1187      0.246
-0.483      0.629      -0.601       0.363
What is your current occupation\_Housewife               22.7344   1.58e+04
0.001      0.999   -3.09e+04    3.09e+04
What is your current occupation\_Other                    0.1583      1.180
0.134      0.893      -2.155       2.471
What is your current occupation\_Student                 -0.2427      0.997
-0.243      0.808      -2.197       1.712
What is your current occupation\_Unemployed              -0.6988      0.973
-0.718      0.473      -2.607       1.209
What is your current occupation\_Working Professional     2.0967      0.994
2.110      0.035       0.149       4.044
City\_Other Cities                                       -0.0151      0.139
-0.109      0.914      -0.288       0.258
City\_Other Cities of Maharashtra                         0.0576      0.165
0.350      0.726      -0.265       0.380
City\_Other Metro Cities                                 -0.0255      0.175
-0.146      0.884      -0.368       0.317
City\_Thane \& Outskirts                                  -0.0396      0.130
-0.304      0.761      -0.295       0.216
City\_Tier II Cities                                      0.1044      0.398
0.262      0.793      -0.675       0.884
Last Notable Activity\_Email Bounced                    -23.5105   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Email Link Clicked               -22.6429   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Email Marked Spam                 -1.6608   6.82e+04
-2.44e-05      1.000   -1.34e+05    1.34e+05
Last Notable Activity\_Email Opened                     -22.0738   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Email Received                    -1.9986   6.82e+04
-2.93e-05      1.000   -1.34e+05    1.34e+05
Last Notable Activity\_Form Submitted on Website        -42.7079   6.82e+04
-0.001      1.000   -1.34e+05    1.34e+05
Last Notable Activity\_Had a Phone Conversation         -19.4486   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Modified                         -22.7767   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Olark Chat Conversation          -23.3319   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Page Visited on Website          -22.7734   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Resubscribed to emails         -2.845e-13   4.04e-10
-0.001      0.999   -7.91e-10    7.91e-10
Last Notable Activity\_SMS Sent                         -20.6667   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Unreachable                      -20.5067   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_Unsubscribed                     -22.3524   4.82e+04
-0.000      1.000   -9.45e+04    9.44e+04
Last Notable Activity\_View in browser link Clicked            0          0
nan        nan           0           0
================================================================================
========================================
"""
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{coarse-tuning-with-rfe}{%
\paragraph{Coarse Tuning with RFE}\label{coarse-tuning-with-rfe}}

\begin{itemize}
\tightlist
\item
  Reducing 47 features to Top 15.
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{73}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k+kn}{import} \PY{n}{LogisticRegression}
\PY{n}{classifer} \PY{o}{=} \PY{n}{LogisticRegression}\PY{p}{(}\PY{p}{)}

\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k+kn}{import} \PY{n}{RFE}
\PY{n}{rfe} \PY{o}{=} \PY{n}{RFE}\PY{p}{(}\PY{n}{classifer}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{)}             \PY{c+c1}{\PYZsh{} running RFE with 15 variables as output}
\PY{n}{rfe} \PY{o}{=} \PY{n}{rfe}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{74}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{columns}\PY{p}{,} \PY{n}{rfe}\PY{o}{.}\PY{n}{support\PYZus{}}\PY{p}{,} \PY{n}{rfe}\PY{o}{.}\PY{n}{ranking\PYZus{}}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{74}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
[('TotalVisits', False, 10),
 ('Total Time Spent on Website', True, 1),
 ('Page Views Per Visit', False, 11),
 ('Lead Origin\_Landing Page Submission', True, 1),
 ('Lead Origin\_Lead Add Form', True, 1),
 ('Lead Origin\_Lead Import', True, 1),
 ('Lead Source\_Google', False, 7),
 ('Lead Source\_Olark Chat', True, 1),
 ('Lead Source\_Organic Search', False, 18),
 ('Lead Source\_Others', False, 8),
 ('Lead Source\_Reference', True, 1),
 ('Lead Source\_Referral Sites', False, 31),
 ('Lead Source\_Welingak Website', True, 1),
 ('Specialization\_Business Administration', False, 24),
 ('Specialization\_Finance Management', False, 16),
 ('Specialization\_Human Resource Management', False, 28),
 ('Specialization\_IT Projects Management', False, 15),
 ('Specialization\_Marketing Management', False, 19),
 ('Specialization\_Not Selected', True, 1),
 ('Specialization\_Operations Management', False, 14),
 ('Specialization\_Others', False, 13),
 ('Specialization\_Supply Chain Management', False, 25),
 ('What is your current occupation\_Housewife', True, 1),
 ('What is your current occupation\_Other', False, 9),
 ('What is your current occupation\_Student', False, 3),
 ('What is your current occupation\_Unemployed', False, 2),
 ('What is your current occupation\_Working Professional', True, 1),
 ('City\_Other Cities', False, 29),
 ('City\_Other Cities of Maharashtra', False, 23),
 ('City\_Other Metro Cities', False, 26),
 ('City\_Thane \& Outskirts', False, 27),
 ('City\_Tier II Cities', False, 22),
 ('Last Notable Activity\_Email Bounced', True, 1),
 ('Last Notable Activity\_Email Link Clicked', False, 5),
 ('Last Notable Activity\_Email Marked Spam', False, 20),
 ('Last Notable Activity\_Email Opened', False, 30),
 ('Last Notable Activity\_Email Received', False, 21),
 ('Last Notable Activity\_Form Submitted on Website', False, 17),
 ('Last Notable Activity\_Had a Phone Conversation', True, 1),
 ('Last Notable Activity\_Modified', False, 4),
 ('Last Notable Activity\_Olark Chat Conversation', True, 1),
 ('Last Notable Activity\_Page Visited on Website', False, 6),
 ('Last Notable Activity\_Resubscribed to emails', False, 32),
 ('Last Notable Activity\_SMS Sent', True, 1),
 ('Last Notable Activity\_Unreachable', True, 1),
 ('Last Notable Activity\_Unsubscribed', False, 12),
 ('Last Notable Activity\_View in browser link Clicked', False, 33)]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{selected-features-top-15-after-rfe}{%
\subparagraph{ Selected features TOP 15 after
RFE}\label{selected-features-top-15-after-rfe}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{col} \PY{o}{=} \PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{rfe}\PY{o}{.}\PY{n}{support\PYZus{}}\PY{p}{]}
\PY{n}{col}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Index(['Total Time Spent on Website', 'Lead Origin\_Landing Page Submission',
       'Lead Origin\_Lead Add Form', 'Lead Origin\_Lead Import',
       'Lead Source\_Olark Chat', 'Lead Source\_Reference',
       'Lead Source\_Welingak Website', 'Specialization\_Not Selected',
       'What is your current occupation\_Housewife',
       'What is your current occupation\_Working Professional',
       'Last Notable Activity\_Email Bounced',
       'Last Notable Activity\_Had a Phone Conversation',
       'Last Notable Activity\_Olark Chat Conversation',
       'Last Notable Activity\_SMS Sent', 'Last Notable Activity\_Unreachable'],
      dtype='object')
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{dropped-features}{%
\subparagraph{ Dropped features}\label{dropped-features}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{76}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{rfe}\PY{o}{.}\PY{n}{support\PYZus{}}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{76}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Index(['TotalVisits', 'Page Views Per Visit', 'Lead Source\_Google',
       'Lead Source\_Organic Search', 'Lead Source\_Others',
       'Lead Source\_Referral Sites', 'Specialization\_Business Administration',
       'Specialization\_Finance Management',
       'Specialization\_Human Resource Management',
       'Specialization\_IT Projects Management',
       'Specialization\_Marketing Management',
       'Specialization\_Operations Management', 'Specialization\_Others',
       'Specialization\_Supply Chain Management',
       'What is your current occupation\_Other',
       'What is your current occupation\_Student',
       'What is your current occupation\_Unemployed', 'City\_Other Cities',
       'City\_Other Cities of Maharashtra', 'City\_Other Metro Cities',
       'City\_Thane \& Outskirts', 'City\_Tier II Cities',
       'Last Notable Activity\_Email Link Clicked',
       'Last Notable Activity\_Email Marked Spam',
       'Last Notable Activity\_Email Opened',
       'Last Notable Activity\_Email Received',
       'Last Notable Activity\_Form Submitted on Website',
       'Last Notable Activity\_Modified',
       'Last Notable Activity\_Page Visited on Website',
       'Last Notable Activity\_Resubscribed to emails',
       'Last Notable Activity\_Unsubscribed',
       'Last Notable Activity\_View in browser link Clicked'],
      dtype='object')
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{building-a-model-with-these-top-15-features}{%
\subparagraph{Building a model with these Top 15
features}\label{building-a-model-with-these-top-15-features}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{77}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}train\PYZus{}sm} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{add\PYZus{}constant}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{p}{)}
\PY{n}{logm2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{GLM}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,}\PY{n}{X\PYZus{}train\PYZus{}sm}\PY{p}{,} \PY{n}{family} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{families}\PY{o}{.}\PY{n}{Binomial}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\PY{n}{res} \PY{o}{=} \PY{n}{logm2}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{n}{res}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{77}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<class 'statsmodels.iolib.summary.Summary'>
"""
                 Generalized Linear Model Regression Results
==============================================================================
Dep. Variable:              Converted   No. Observations:                 6351
Model:                            GLM   Df Residuals:                     6335
Model Family:                Binomial   Df Model:                           15
Link Function:                  logit   Scale:                          1.0000
Method:                          IRLS   Log-Likelihood:                -2688.9
Date:                Sun, 25 Oct 2020   Deviance:                       5377.7
Time:                        17:39:29   Pearson chi2:                 6.54e+03
No. Iterations:                    21
Covariance Type:            nonrobust
================================================================================
========================================
                                                           coef    std err
z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------------------
----------------------------------------
const                                                   -0.4695      0.122
-3.839      0.000      -0.709      -0.230
Total Time Spent on Website                              1.1190      0.040
28.117      0.000       1.041       1.197
Lead Origin\_Landing Page Submission                     -1.2058      0.127
-9.517      0.000      -1.454      -0.957
Lead Origin\_Lead Add Form                                0.7808      1.013
0.771      0.441      -1.204       2.766
Lead Origin\_Lead Import                                  1.0238      0.503
2.034      0.042       0.037       2.010
Lead Source\_Olark Chat                                   0.9345      0.120
7.803      0.000       0.700       1.169
Lead Source\_Reference                                    2.5441      1.034
2.461      0.014       0.518       4.570
Lead Source\_Welingak Website                             5.9057      1.432
4.125      0.000       3.100       8.711
Specialization\_Not Selected                             -1.2876      0.121
-10.643      0.000      -1.525      -1.050
What is your current occupation\_Housewife               23.4403   1.53e+04
0.002      0.999   -3.01e+04    3.01e+04
What is your current occupation\_Working Professional     2.7349      0.205
13.342      0.000       2.333       3.137
Last Notable Activity\_Email Bounced                     -1.0946      0.533
-2.052      0.040      -2.140      -0.049
Last Notable Activity\_Had a Phone Conversation           3.1204      1.140
2.737      0.006       0.886       5.355
Last Notable Activity\_Olark Chat Conversation           -0.7215      0.294
-2.454      0.014      -1.298      -0.145
Last Notable Activity\_SMS Sent                           1.7045      0.078
21.720      0.000       1.551       1.858
Last Notable Activity\_Unreachable                        1.9460      0.526
3.702      0.000       0.916       2.976
================================================================================
========================================
"""
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{what-is-your-current-occupation_housewife-has-very-high-p-value-must-drop-it-as-it-is-insignificant.}{%
\subparagraph{`What is your current occupation\_Housewife' has very high
p-value, must drop it as it is
insignificant.}\label{what-is-your-current-occupation_housewife-has-very-high-p-value-must-drop-it-as-it-is-insignificant.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{78}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{col} \PY{o}{=} \PY{n}{col}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{What is your current occupation\PYZus{}Housewife}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{79}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} rebuilding the model}
\PY{n}{X\PYZus{}train\PYZus{}sm} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{add\PYZus{}constant}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{p}{)}
\PY{n}{logm2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{GLM}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,}\PY{n}{X\PYZus{}train\PYZus{}sm}\PY{p}{,} \PY{n}{family} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{families}\PY{o}{.}\PY{n}{Binomial}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\PY{n}{res} \PY{o}{=} \PY{n}{logm2}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{n}{res}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{79}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<class 'statsmodels.iolib.summary.Summary'>
"""
                 Generalized Linear Model Regression Results
==============================================================================
Dep. Variable:              Converted   No. Observations:                 6351
Model:                            GLM   Df Residuals:                     6336
Model Family:                Binomial   Df Model:                           14
Link Function:                  logit   Scale:                          1.0000
Method:                          IRLS   Log-Likelihood:                -2696.4
Date:                Sun, 25 Oct 2020   Deviance:                       5392.7
Time:                        17:39:29   Pearson chi2:                 6.55e+03
No. Iterations:                     7
Covariance Type:            nonrobust
================================================================================
========================================
                                                           coef    std err
z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------------------
----------------------------------------
const                                                   -0.4653      0.122
-3.807      0.000      -0.705      -0.226
Total Time Spent on Website                              1.1177      0.040
28.126      0.000       1.040       1.196
Lead Origin\_Landing Page Submission                     -1.1996      0.127
-9.476      0.000      -1.448      -0.951
Lead Origin\_Lead Add Form                                0.7792      1.013
0.769      0.442      -1.206       2.764
Lead Origin\_Lead Import                                  1.0199      0.503
2.027      0.043       0.034       2.006
Lead Source\_Olark Chat                                   0.9332      0.120
7.797      0.000       0.699       1.168
Lead Source\_Reference                                    2.5547      1.033
2.472      0.013       0.529       4.580
Lead Source\_Welingak Website                             5.9057      1.431
4.126      0.000       3.100       8.711
Specialization\_Not Selected                             -1.2899      0.121
-10.669      0.000      -1.527      -1.053
What is your current occupation\_Working Professional     2.7279      0.205
13.314      0.000       2.326       3.129
Last Notable Activity\_Email Bounced                     -1.1001      0.533
-2.063      0.039      -2.145      -0.055
Last Notable Activity\_Had a Phone Conversation           3.1114      1.140
2.730      0.006       0.877       5.345
Last Notable Activity\_Olark Chat Conversation           -0.7243      0.294
-2.464      0.014      -1.300      -0.148
Last Notable Activity\_SMS Sent                           1.6973      0.078
21.650      0.000       1.544       1.851
Last Notable Activity\_Unreachable                        1.9388      0.526
3.689      0.000       0.909       2.969
================================================================================
========================================
"""
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{lead-origin_lead-add-form-has-very-high-p-value-must-drop-it-as-it-is-insignificant.}{%
\subparagraph{`Lead Origin\_Lead Add Form' has very high p-value, must
drop it as it is
insignificant.}\label{lead-origin_lead-add-form-has-very-high-p-value-must-drop-it-as-it-is-insignificant.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{80}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{col} \PY{o}{=} \PY{n}{col}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead Origin\PYZus{}Lead Add Form}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{81}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} rebuilding the model}
\PY{n}{X\PYZus{}train\PYZus{}sm} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{add\PYZus{}constant}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{p}{)}
\PY{n}{logm2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{GLM}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,}\PY{n}{X\PYZus{}train\PYZus{}sm}\PY{p}{,} \PY{n}{family} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{families}\PY{o}{.}\PY{n}{Binomial}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\PY{n}{res} \PY{o}{=} \PY{n}{logm2}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{n}{res}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{81}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<class 'statsmodels.iolib.summary.Summary'>
"""
                 Generalized Linear Model Regression Results
==============================================================================
Dep. Variable:              Converted   No. Observations:                 6351
Model:                            GLM   Df Residuals:                     6337
Model Family:                Binomial   Df Model:                           13
Link Function:                  logit   Scale:                          1.0000
Method:                          IRLS   Log-Likelihood:                -2696.7
Date:                Sun, 25 Oct 2020   Deviance:                       5393.3
Time:                        17:39:29   Pearson chi2:                 6.55e+03
No. Iterations:                     7
Covariance Type:            nonrobust
================================================================================
========================================
                                                           coef    std err
z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------------------
----------------------------------------
const                                                   -0.4586      0.122
-3.761      0.000      -0.698      -0.220
Total Time Spent on Website                              1.1175      0.040
28.130      0.000       1.040       1.195
Lead Origin\_Landing Page Submission                     -1.2060      0.126
-9.545      0.000      -1.454      -0.958
Lead Origin\_Lead Import                                  1.0150      0.503
2.017      0.044       0.029       2.001
Lead Source\_Olark Chat                                   0.9322      0.120
7.792      0.000       0.698       1.167
Lead Source\_Reference                                    3.3296      0.234
14.254      0.000       2.872       3.787
Lead Source\_Welingak Website                             6.6829      1.015
6.586      0.000       4.694       8.672
Specialization\_Not Selected                             -1.2949      0.121
-10.721      0.000      -1.532      -1.058
What is your current occupation\_Working Professional     2.7269      0.205
13.306      0.000       2.325       3.129
Last Notable Activity\_Email Bounced                     -1.1002      0.533
-2.063      0.039      -2.145      -0.055
Last Notable Activity\_Had a Phone Conversation           3.1097      1.140
2.728      0.006       0.875       5.344
Last Notable Activity\_Olark Chat Conversation           -0.7257      0.294
-2.469      0.014      -1.302      -0.150
Last Notable Activity\_SMS Sent                           1.6973      0.078
21.648      0.000       1.544       1.851
Last Notable Activity\_Unreachable                        1.9372      0.526
3.685      0.000       0.907       2.967
================================================================================
========================================
"""
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{all-values-are-significant-checking-for-vif.}{%
\subparagraph{All values are significant, checking for
VIF.}\label{all-values-are-significant-checking-for-vif.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{82}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Check for the VIF values of the feature variables. }
\PY{k+kn}{from} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{stats}\PY{n+nn}{.}\PY{n+nn}{outliers\PYZus{}influence} \PY{k+kn}{import} \PY{n}{variance\PYZus{}inflation\PYZus{}factor}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{83}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Create a dataframe that will contain the names of all the feature variables and their respective VIFs}
\PY{n}{vif} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{)}
\PY{n}{vif}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Features}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{columns}
\PY{n}{vif}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{VIF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{[}\PY{n}{variance\PYZus{}inflation\PYZus{}factor}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{p}{,} \PY{n}{i}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{]}
\PY{n}{vif}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{VIF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n+nb}{round}\PY{p}{(}\PY{n}{vif}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{VIF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{vif} \PY{o}{=} \PY{n}{vif}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{VIF}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\PY{n}{vif}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{83}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                             Features   VIF
3                              Lead Source\_Olark Chat  1.88
6                         Specialization\_Not Selected  1.83
11                     Last Notable Activity\_SMS Sent  1.38
0                         Total Time Spent on Website  1.29
1                 Lead Origin\_Landing Page Submission  1.24
4                               Lead Source\_Reference  1.19
7   What is your current occupation\_Working Profes{\ldots}  1.17
5                        Lead Source\_Welingak Website  1.08
10      Last Notable Activity\_Olark Chat Conversation  1.06
2                             Lead Origin\_Lead Import  1.01
8                 Last Notable Activity\_Email Bounced  1.01
9      Last Notable Activity\_Had a Phone Conversation  1.00
12                  Last Notable Activity\_Unreachable  1.00
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{all-values-are-within-vif-range-no-multicollinearity-exists.}{%
\subparagraph{All values are within VIF range, no multicollinearity
exists.}\label{all-values-are-within-vif-range-no-multicollinearity-exists.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{84}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{vif}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{vif}\PY{o}{.}\PY{n}{index} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{final-model-with-13-features}{%
\subsubsection{Final Model with 13
features:}\label{final-model-with-13-features}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{85}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{vif}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Features}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{85}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                             Features
1                              Lead Source\_Olark Chat
2                         Specialization\_Not Selected
3                      Last Notable Activity\_SMS Sent
4                         Total Time Spent on Website
5                 Lead Origin\_Landing Page Submission
6                               Lead Source\_Reference
7   What is your current occupation\_Working Profes{\ldots}
8                        Lead Source\_Welingak Website
9       Last Notable Activity\_Olark Chat Conversation
10                            Lead Origin\_Lead Import
11                Last Notable Activity\_Email Bounced
12     Last Notable Activity\_Had a Phone Conversation
13                  Last Notable Activity\_Unreachable
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{predictions-on-train-set}{%
\subsubsection{Predictions on train
set}\label{predictions-on-train-set}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{86}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred} \PY{o}{=} \PY{n}{res}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}train\PYZus{}sm}\PY{p}{)}
\PY{n}{y\PYZus{}train\PYZus{}pred}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{86}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
1943    0.559726
456     0.066849
6547    0.458875
8836    0.870822
6529    0.957392
7798    0.394931
2349    0.119286
5057    0.449247
3954    0.099968
4523    0.890201
dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{87}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred} \PY{o}{=} \PY{n}{y\PYZus{}train\PYZus{}pred}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{y\PYZus{}train\PYZus{}pred}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{87}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array([0.55972585, 0.06684905, 0.45887495, 0.87082247, 0.95739206,
       0.3949311 , 0.11928573, 0.44924722, 0.09996844, 0.89020074])
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{creating-a-dataframe-with-the-actual-target-variable-and-the-predicted-probabilities}{%
\subparagraph{Creating a dataframe with the actual Target variable and
the predicted
probabilities}\label{creating-a-dataframe-with-the-actual-target-variable-and-the-predicted-probabilities}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{88}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{y\PYZus{}train}\PY{o}{.}\PY{n}{values}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted\PYZus{}prob}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{y\PYZus{}train\PYZus{}pred}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Prospect ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}train}\PY{o}{.}\PY{n}{index}
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{88}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Converted\_prob  Prospect ID
0          0        0.559726         1943
1          0        0.066849          456
2          0        0.458875         6547
3          0        0.870822         8836
4          1        0.957392         6529
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assigning-labels-taking-cutoff-as-0.5}{%
\subparagraph{Assigning labels taking cut=off as
0.5}\label{assigning-labels-taking-cutoff-as-0.5}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{89}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{predicted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.5} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Let\PYZsq{}s see the head}
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{89}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Converted\_prob  Prospect ID  predicted
0          0        0.559726         1943          1
1          0        0.066849          456          0
2          0        0.458875         6547          0
3          0        0.870822         8836          1
4          1        0.957392         6529          1
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{computing-evaluation-metrics-taking-cutoff-as-0.5}{%
\subparagraph{Computing Evaluation Metrics taking cut=off as
0.5}\label{computing-evaluation-metrics-taking-cutoff-as-0.5}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{90}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k+kn}{import} \PY{n}{metrics}

\PY{c+c1}{\PYZsh{} Confusion matrix }
\PY{n}{confusion} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{predicted} \PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{confusion}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
[[3578  399]
 [ 851 1523]]
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{91}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Let\PYZsq{}s check the overall accuracy.}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ACCURACY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{metrics}\PY{o}{.}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{predicted}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
ACCURACY:
0.8031806014800819
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{92}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{TP} \PY{o}{=} \PY{n}{confusion}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} true positive }
\PY{n}{TN} \PY{o}{=} \PY{n}{confusion}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} true negatives}
\PY{n}{FP} \PY{o}{=} \PY{n}{confusion}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} false positives}
\PY{n}{FN} \PY{o}{=} \PY{n}{confusion}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} false negatives}


\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SENSITIVITY / RECALL:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FN}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SENSITIVITY / RECALL:
0.6415332771693345
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{93}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SPECIFICITY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TN} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TN}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SPECIFICITY:
0.8996731204425447
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{94}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PRECISION:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP}\PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
PRECISION:
0.7924037460978148
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{95}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{F1 SCORE:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{metrics}\PY{o}{.}\PY{n}{f1\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{predicted}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
F1 SCORE:
0.7090316573556799
    \end{Verbatim}

    \hypertarget{plotting-the-roc-curve}{%
\subsubsection{Plotting the ROC Curve}\label{plotting-the-roc-curve}}

An ROC curve demonstrates several things:

\begin{itemize}
\tightlist
\item
  It shows the tradeoff between sensitivity and specificity (any
  increase in sensitivity will be accompanied by a decrease in
  specificity).
\item
  The closer the curve follows the left-hand border and then the top
  border of the ROC space, the more accurate the test.
\item
  The closer the curve comes to the 45-degree diagonal of the ROC space,
  the less accurate the test.
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{96}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{draw\PYZus{}roc}\PY{p}{(} \PY{n}{actual}\PY{p}{,} \PY{n}{probs} \PY{p}{)}\PY{p}{:}
    \PY{n}{fpr}\PY{p}{,} \PY{n}{tpr}\PY{p}{,} \PY{n}{thresholds} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{roc\PYZus{}curve}\PY{p}{(} \PY{n}{actual}\PY{p}{,} \PY{n}{probs}\PY{p}{,}
                                              \PY{n}{drop\PYZus{}intermediate} \PY{o}{=} \PY{k+kc}{False} \PY{p}{)}
    \PY{n}{auc\PYZus{}score} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{roc\PYZus{}auc\PYZus{}score}\PY{p}{(} \PY{n}{actual}\PY{p}{,} \PY{n}{probs} \PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(} \PY{n}{fpr}\PY{p}{,} \PY{n}{tpr}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ROC curve (area = }\PY{l+s+si}{\PYZpc{}0.2f}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{auc\PYZus{}score} \PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{k\PYZhy{}\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.0}\PY{p}{,} \PY{l+m+mf}{1.0}\PY{p}{]}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{ylim}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.0}\PY{p}{,} \PY{l+m+mf}{1.05}\PY{p}{]}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{False Positive Rate or [1 \PYZhy{} True Negative Rate]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{True Positive Rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Receiver operating characteristic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{lower right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}

    \PY{k}{return} \PY{k+kc}{None}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{97}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{draw\PYZus{}roc}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_186_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{finding-optimal-cutoff-point}{%
\subsubsection{ Finding Optimal Cutoff
Point}\label{finding-optimal-cutoff-point}}

\hypertarget{optimal-cutoff-probability-is-that-prob-where-we-get-balanced-sensitivity-and-specificity}{%
\subparagraph{ Optimal cutoff probability is that prob where we get
balanced sensitivity and
specificity}\label{optimal-cutoff-probability-is-that-prob-where-we-get-balanced-sensitivity-and-specificity}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{98}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Let\PYZsq{}s create columns with different probability cutoffs }
\PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{n+nb}{float}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{o}{/}\PY{l+m+mi}{10} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{numbers}\PY{p}{:}
    \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{=} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{n}{i} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{98}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Converted\_prob  Prospect ID  predicted  0.0  0.1  0.2  0.3  0.4  \textbackslash{}
0          0        0.559726         1943          1    1    1    1    1    1
1          0        0.066849          456          0    1    0    0    0    0
2          0        0.458875         6547          0    1    1    1    1    1
3          0        0.870822         8836          1    1    1    1    1    1
4          1        0.957392         6529          1    1    1    1    1    1

   0.5  0.6  0.7  0.8  0.9
0    1    0    0    0    0
1    0    0    0    0    0
2    0    0    0    0    0
3    1    1    1    1    0
4    1    1    1    1    1
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{99}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Now let\PYZsq{}s calculate accuracy sensitivity and specificity for various probability cutoffs.}
\PY{n}{cutoff\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{prob}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{accuracy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sensi}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{speci}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k+kn}{import} \PY{n}{confusion\PYZus{}matrix}

\PY{c+c1}{\PYZsh{} TP = confusion[1,1] \PYZsh{} true positive }
\PY{c+c1}{\PYZsh{} TN = confusion[0,0] \PYZsh{} true negatives}
\PY{c+c1}{\PYZsh{} FP = confusion[0,1] \PYZsh{} false positives}
\PY{c+c1}{\PYZsh{} FN = confusion[1,0] \PYZsh{} false negatives}

\PY{n}{num} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{0.0}\PY{p}{,}\PY{l+m+mf}{0.1}\PY{p}{,}\PY{l+m+mf}{0.2}\PY{p}{,}\PY{l+m+mf}{0.3}\PY{p}{,}\PY{l+m+mf}{0.4}\PY{p}{,}\PY{l+m+mf}{0.5}\PY{p}{,}\PY{l+m+mf}{0.6}\PY{p}{,}\PY{l+m+mf}{0.7}\PY{p}{,}\PY{l+m+mf}{0.8}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{num}\PY{p}{:}
    \PY{n}{cm1} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{p}{)}
    \PY{n}{total1}\PY{o}{=}\PY{n+nb}{sum}\PY{p}{(}\PY{n+nb}{sum}\PY{p}{(}\PY{n}{cm1}\PY{p}{)}\PY{p}{)}
    \PY{n}{accuracy} \PY{o}{=} \PY{p}{(}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{+}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{total1}
    
    \PY{n}{speci} \PY{o}{=} \PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{/}\PY{p}{(}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{+}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
    \PY{n}{sensi} \PY{o}{=} \PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{p}{(}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{+}\PY{n}{cm1}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
    \PY{n}{cutoff\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=}\PY{p}{[} \PY{n}{i} \PY{p}{,}\PY{n}{accuracy}\PY{p}{,}\PY{n}{sensi}\PY{p}{,}\PY{n}{speci}\PY{p}{]}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{cutoff\PYZus{}df}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
     prob  accuracy     sensi     speci
0.0   0.0  0.373799  1.000000  0.000000
0.1   0.1  0.560227  0.965880  0.318079
0.2   0.2  0.775154  0.883319  0.710586
0.3   0.3  0.790427  0.840354  0.760624
0.4   0.4  0.803338  0.744735  0.838320
0.5   0.5  0.803181  0.641533  0.899673
0.6   0.6  0.800189  0.579612  0.931858
0.7   0.7  0.779877  0.491997  0.951722
0.8   0.8  0.760353  0.407751  0.970832
0.9   0.9  0.718155  0.268324  0.986673
    \end{Verbatim}

    \emph{Let's plot accuracy sensitivity and specificity for various
probabilities.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{100}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{cutoff\PYZus{}df}\PY{o}{.}\PY{n}{plot}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{prob}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{accuracy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sensi}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{speci}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.8} \PY{p}{,}\PY{n}{ls} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{p}{[}\PY{l+m+mf}{0.1}\PY{p}{,}\PY{l+m+mf}{0.2}\PY{p}{,}\PY{l+m+mf}{0.3}\PY{p}{,}\PY{l+m+mf}{0.346}\PY{p}{,}\PY{l+m+mf}{0.4}\PY{p}{,}\PY{l+m+mf}{0.5}\PY{p}{,}\PY{l+m+mf}{0.6}\PY{p}{,}\PY{l+m+mf}{0.7}\PY{p}{,}\PY{l+m+mf}{0.8}\PY{p}{,}\PY{l+m+mf}{0.9}\PY{p}{,}\PY{l+m+mf}{1.0}\PY{p}{]}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_191_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{intersection-is-around-0.346-taking-this-as-cutoff-will-give-a-balanced-model-but-we-need-to-maximise-sensitivity-or-recall-as-we-are-ok-if-a-uninterested-aspirant-is-approched-but-we-cant-afford-to-not-approach-interested-candidates-as-we-will-be-losing-business-hence-we-will-take-0.3-as-our-cutoff-as-we-need-a-combination-of-balance-as-well-as-a-good-recall-in-our-model.}{%
\subparagraph{Intersection is around 0.346, taking this as cutoff will
give a balanced model, but we need to maximise SENSITIVITY or RECALL as
we are ok if a uninterested aspirant is approched, but we can't afford
to not approach interested candidates as we will be losing business,
hence we will take 0.3 as our cutoff as we need a combination of balance
as well as a good RECALL in our
model.}\label{intersection-is-around-0.346-taking-this-as-cutoff-will-give-a-balanced-model-but-we-need-to-maximise-sensitivity-or-recall-as-we-are-ok-if-a-uninterested-aspirant-is-approched-but-we-cant-afford-to-not-approach-interested-candidates-as-we-will-be-losing-business-hence-we-will-take-0.3-as-our-cutoff-as-we-need-a-combination-of-balance-as-well-as-a-good-recall-in-our-model.}}

    \hypertarget{assigning-labels-taking-cutoff-as-0.3}{%
\subparagraph{Assigning labels taking cut=off as
0.3}\label{assigning-labels-taking-cutoff-as-0.3}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{101}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{final\PYZus{}predicted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(} \PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.3} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}

\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{101}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Converted\_prob  Prospect ID  predicted  0.0  0.1  0.2  0.3  0.4  \textbackslash{}
0          0        0.559726         1943          1    1    1    1    1    1
1          0        0.066849          456          0    1    0    0    0    0
2          0        0.458875         6547          0    1    1    1    1    1
3          0        0.870822         8836          1    1    1    1    1    1
4          1        0.957392         6529          1    1    1    1    1    1

   0.5  0.6  0.7  0.8  0.9  final\_predicted
0    1    0    0    0    0                1
1    0    0    0    0    0                0
2    0    0    0    0    0                1
3    1    1    1    1    0                1
4    1    1    1    1    1                1
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assigning-lead-score-probx100}{%
\subsubsection{Assigning Lead Score:
Probx100}\label{assigning-lead-score-probx100}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{102}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead\PYZus{}Score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(} \PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n+nb}{round}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}\PY{p}{)}

\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{102}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Converted\_prob  Prospect ID  predicted  0.0  0.1  0.2  0.3  0.4  \textbackslash{}
0          0        0.559726         1943          1    1    1    1    1    1
1          0        0.066849          456          0    1    0    0    0    0
2          0        0.458875         6547          0    1    1    1    1    1
3          0        0.870822         8836          1    1    1    1    1    1
4          1        0.957392         6529          1    1    1    1    1    1

   0.5  0.6  0.7  0.8  0.9  final\_predicted  Lead\_Score
0    1    0    0    0    0                1          56
1    0    0    0    0    0                0           7
2    0    0    0    0    0                1          46
3    1    1    1    1    0                1          87
4    1    1    1    1    1                1          96
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{computing-evaluation-metrics-taking-cutoff-as-0.3}{%
\subparagraph{Computing Evaluation Metrics taking cut=off as
0.3}\label{computing-evaluation-metrics-taking-cutoff-as-0.3}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{103}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Let\PYZsq{}s check the overall accuracy.}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ACCURACY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{metrics}\PY{o}{.}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{final\PYZus{}predicted}\PY{p}{)}\PY{p}{)}

\PY{n}{confusion2} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{final\PYZus{}predicted} \PY{p}{)}
\PY{n}{confusion2}

\PY{n}{TP} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} true positive }
\PY{n}{TN} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} true negatives}
\PY{n}{FP} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} false positives}
\PY{n}{FN} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} false negatives}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
ACCURACY:
0.7904267044559912
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{104}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SENSITIVITY / RECALL:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FN}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SENSITIVITY / RECALL:
0.8403538331929233
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{105}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SPECIFICITY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TN} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TN}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SPECIFICITY:
0.7606235856172995
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{106}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PRECISION:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP}\PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
PRECISION:
0.6769596199524941
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{F1 SCORE:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{metrics}\PY{o}{.}\PY{n}{f1\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{predicted}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
F1 SCORE:
    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        NameError                                 Traceback (most recent call last)

        <ipython-input-1-ba73b3a4d1c4> in <module>
          1 print("F1 SCORE:")
          2 
    ----> 3 print(metrics.f1\_score(y\_train\_pred\_final.Converted, y\_train\_pred\_final.predicted))
    

        NameError: name 'metrics' is not defined

    \end{Verbatim}

    \hypertarget{finally-our-13-feature-model-was-able-to-obtain}{%
\subsubsection{Finally, our 13-feature model was able to
obtain:}\label{finally-our-13-feature-model-was-able-to-obtain}}

\hypertarget{training-scores}{%
\paragraph{Training Scores:}\label{training-scores}}

\begin{verbatim}
            - ACCURACY:               79.04%
            - SPECIFICITY:            76.06%
            - SENSITIVITY / RECALL:   84.03%
            - PRECISION:              67.70%
            - F1 SCORE:               70.90%
\end{verbatim}

    \hypertarget{predictions-on-the-test-set}{%
\subsubsection{ Predictions on the test
set}\label{predictions-on-the-test-set}}

    \hypertarget{preparing-test-set}{%
\subparagraph{Preparing Test Set}\label{preparing-test-set}}

\begin{verbatim}
- Scaling
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{108}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}test}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Time Spent on Website}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{transform}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotalVisits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Time Spent on Website}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Page Views Per Visit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}

\PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{108}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
      TotalVisits  Total Time Spent on Website  Page Views Per Visit  \textbackslash{}
1943    -0.432839                     1.704380             -0.153953
456     -0.432839                    -0.789845             -0.153953
6547     0.644762                    -0.176811              1.481796
8836     0.285562                     2.117949              0.936547
6529     0.644762                     0.315446              1.481796

      Lead Origin\_Landing Page Submission  Lead Origin\_Lead Add Form  \textbackslash{}
1943                                    1                          0
456                                     0                          0
6547                                    1                          0
8836                                    0                          0
6529                                    1                          0

      Lead Origin\_Lead Import  Lead Source\_Google  Lead Source\_Olark Chat  \textbackslash{}
1943                        0                   0                       0
456                         0                   0                       0
6547                        0                   0                       0
8836                        0                   0                       0
6529                        0                   0                       0

      Lead Source\_Organic Search  Lead Source\_Others  Lead Source\_Reference  \textbackslash{}
1943                           0                   0                      0
456                            0                   0                      0
6547                           0                   0                      0
8836                           1                   0                      0
6529                           1                   0                      0

      Lead Source\_Referral Sites  Lead Source\_Welingak Website  \textbackslash{}
1943                           0                             0
456                            1                             0
6547                           0                             0
8836                           0                             0
6529                           0                             0

      Specialization\_Business Administration  \textbackslash{}
1943                                       0
456                                        0
6547                                       0
8836                                       0
6529                                       0

      Specialization\_Finance Management  \textbackslash{}
1943                                  0
456                                   0
6547                                  0
8836                                  0
6529                                  0

      Specialization\_Human Resource Management  \textbackslash{}
1943                                         0
456                                          0
6547                                         0
8836                                         0
6529                                         0

      Specialization\_IT Projects Management  \textbackslash{}
1943                                      0
456                                       0
6547                                      0
8836                                      0
6529                                      0

      Specialization\_Marketing Management  Specialization\_Not Selected  \textbackslash{}
1943                                    1                            0
456                                     0                            1
6547                                    1                            0
8836                                    0                            0
6529                                    0                            0

      Specialization\_Operations Management  Specialization\_Others  \textbackslash{}
1943                                     0                      0
456                                      0                      0
6547                                     0                      0
8836                                     0                      0
6529                                     0                      1

      Specialization\_Supply Chain Management  \textbackslash{}
1943                                       0
456                                        0
6547                                       0
8836                                       1
6529                                       0

      What is your current occupation\_Housewife  \textbackslash{}
1943                                          0
456                                           0
6547                                          0
8836                                          0
6529                                          0

      What is your current occupation\_Other  \textbackslash{}
1943                                      0
456                                       0
6547                                      0
8836                                      0
6529                                      0

      What is your current occupation\_Student  \textbackslash{}
1943                                        0
456                                         0
6547                                        0
8836                                        0
6529                                        0

      What is your current occupation\_Unemployed  \textbackslash{}
1943                                           1
456                                            1
6547                                           1
8836                                           1
6529                                           0

      What is your current occupation\_Working Professional  City\_Other Cities  \textbackslash{}
1943                                                  0                     0
456                                                   0                     0
6547                                                  0                     0
8836                                                  0                     0
6529                                                  1                     0

      City\_Other Cities of Maharashtra  City\_Other Metro Cities  \textbackslash{}
1943                                 0                        0
456                                  0                        0
6547                                 0                        0
8836                                 0                        1
6529                                 0                        1

      City\_Thane \& Outskirts  City\_Tier II Cities  \textbackslash{}
1943                       0                    0
456                        0                    0
6547                       0                    0
8836                       0                    0
6529                       0                    0

      Last Notable Activity\_Email Bounced  \textbackslash{}
1943                                    0
456                                     0
6547                                    0
8836                                    0
6529                                    0

      Last Notable Activity\_Email Link Clicked  \textbackslash{}
1943                                         0
456                                          0
6547                                         0
8836                                         0
6529                                         0

      Last Notable Activity\_Email Marked Spam  \textbackslash{}
1943                                        0
456                                         0
6547                                        0
8836                                        0
6529                                        0

      Last Notable Activity\_Email Opened  \textbackslash{}
1943                                   1
456                                    0
6547                                   0
8836                                   0
6529                                   0

      Last Notable Activity\_Email Received  \textbackslash{}
1943                                     0
456                                      0
6547                                     0
8836                                     0
6529                                     0

      Last Notable Activity\_Form Submitted on Website  \textbackslash{}
1943                                                0
456                                                 0
6547                                                0
8836                                                0
6529                                                0

      Last Notable Activity\_Had a Phone Conversation  \textbackslash{}
1943                                               0
456                                                0
6547                                               0
8836                                               0
6529                                               0

      Last Notable Activity\_Modified  \textbackslash{}
1943                               0
456                                1
6547                               0
8836                               1
6529                               0

      Last Notable Activity\_Olark Chat Conversation  \textbackslash{}
1943                                              0
456                                               0
6547                                              0
8836                                              0
6529                                              0

      Last Notable Activity\_Page Visited on Website  \textbackslash{}
1943                                              0
456                                               0
6547                                              0
8836                                              0
6529                                              0

      Last Notable Activity\_Resubscribed to emails  \textbackslash{}
1943                                             0
456                                              0
6547                                             0
8836                                             0
6529                                             0

      Last Notable Activity\_SMS Sent  Last Notable Activity\_Unreachable  \textbackslash{}
1943                               0                                  0
456                                0                                  0
6547                               1                                  0
8836                               0                                  0
6529                               1                                  0

      Last Notable Activity\_Unsubscribed  \textbackslash{}
1943                                   0
456                                    0
6547                                   0
8836                                   0
6529                                   0

      Last Notable Activity\_View in browser link Clicked
1943                                                  0
456                                                   0
6547                                                  0
8836                                                  0
6529                                                  0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
- Retaining only selected features 
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{109}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}test} \PY{o}{=} \PY{n}{X\PYZus{}test}\PY{p}{[}\PY{n}{col}\PY{p}{]}
\PY{n}{X\PYZus{}test}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{109}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
      Total Time Spent on Website  Lead Origin\_Landing Page Submission  \textbackslash{}
465                     -0.250009                                    1
5424                     0.361195                                    1
3503                    -0.892323                                    0
4465                    -0.892323                                    0
5394                    -0.592210                                    0

      Lead Origin\_Lead Import  Lead Source\_Olark Chat  Lead Source\_Reference  \textbackslash{}
465                         0                       0                      0
5424                        0                       0                      0
3503                        0                       1                      0
4465                        0                       1                      0
5394                        0                       1                      0

      Lead Source\_Welingak Website  Specialization\_Not Selected  \textbackslash{}
465                              0                            0
5424                             0                            0
3503                             0                            1
4465                             0                            1
5394                             0                            0

      What is your current occupation\_Working Professional  \textbackslash{}
465                                                   0
5424                                                  0
3503                                                  0
4465                                                  0
5394                                                  0

      Last Notable Activity\_Email Bounced  \textbackslash{}
465                                     0
5424                                    0
3503                                    0
4465                                    0
5394                                    0

      Last Notable Activity\_Had a Phone Conversation  \textbackslash{}
465                                                0
5424                                               0
3503                                               0
4465                                               0
5394                                               0

      Last Notable Activity\_Olark Chat Conversation  \textbackslash{}
465                                               0
5424                                              0
3503                                              0
4465                                              0
5394                                              0

      Last Notable Activity\_SMS Sent  Last Notable Activity\_Unreachable
465                                0                                  0
5424                               0                                  0
3503                               0                                  0
4465                               0                                  0
5394                               0                                  0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
- Making test set ready for prediction 
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{110}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}test\PYZus{}sm} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{add\PYZus{}constant}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
- Making predictions 
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{111}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}test\PYZus{}pred} \PY{o}{=} \PY{n}{res}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test\PYZus{}sm}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{112}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}pred\PYZus{}1} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{y\PYZus{}test\PYZus{}pred}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{113}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Converting y\PYZus{}test to dataframe}
\PY{n}{y\PYZus{}test\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{114}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Putting CustID to index}
\PY{n}{y\PYZus{}test\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Prospect ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}test\PYZus{}df}\PY{o}{.}\PY{n}{index}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{115}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Removing index for both dataframes to append them side by side }
\PY{n}{y\PYZus{}pred\PYZus{}1}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{y\PYZus{}test\PYZus{}df}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{116}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Appending y\PYZus{}test\PYZus{}df and y\PYZus{}pred\PYZus{}1}
\PY{n}{y\PYZus{}pred\PYZus{}final} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{y\PYZus{}test\PYZus{}df}\PY{p}{,} \PY{n}{y\PYZus{}pred\PYZus{}1}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{117}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{117}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Converted  Prospect ID         0
0          0          465  0.125209
1          0         5424  0.220807
2          0         3503  0.139620
3          0         4465  0.139620
4          0         5394  0.453095
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{118}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Renaming the column }
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{=} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}} \PY{l+m+mi}{0} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted\PYZus{}prob}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{119}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Rearranging the columns}
\PY{n}{y\PYZus{}pred\PYZus{}final} \PY{o}{=} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{reindex}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Prospect ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Converted\PYZus{}prob}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{120}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Let\PYZsq{}s see the head of y\PYZus{}pred\PYZus{}final}
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{120}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Prospect ID  Converted  Converted\_prob
0          465          0        0.125209
1         5424          0        0.220807
2         3503          0        0.139620
3         4465          0        0.139620
4         5394          0        0.453095
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assigning-lead-scores-and-listing-out-the-top-50-leads-based-on-lead_score}{%
\subparagraph{Assigning Lead Scores and listing out the Top 50 Leads
based on
Lead\_Score}\label{assigning-lead-scores-and-listing-out-the-top-50-leads-based-on-lead_score}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{121}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead\PYZus{}Score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(} \PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n+nb}{round}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}\PY{p}{)}

\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lead\PYZus{}Score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{50}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{121}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
      Prospect ID  Converted  Converted\_prob  Lead\_Score
2722         2042          1        0.998164         100
347          4662          1        0.996537         100
1379         5697          1        0.998164         100
1352         6937          1        0.996423         100
1345         8293          1        0.999595         100
2157         6179          1        0.997293         100
68           8048          1        0.998164         100
1323         2458          1        0.996423         100
1321         5822          1        0.998164         100
690          7736          1        0.996272         100
1291         6890          1        0.996423         100
1418         8059          1        0.998164         100
373          8089          1        0.998164         100
374          4068          1        0.995639         100
1238         4782          1        0.998164         100
1648         1387          1        0.996423         100
1801         5794          1        0.998164         100
1225         2763          1        0.998164         100
2210         2457          1        0.996423         100
2536         2680          1        0.998164         100
2140         2594          1        0.997559         100
1436         1780          1        0.998277         100
1201         6647          1        0.996067         100
2073         7324          1        0.997796         100
1687         2686          1        0.998164         100
1628         2684          1        0.998164         100
2046         8052          1        0.998164         100
2653         6243          1        0.998387         100
1579         5803          1        0.998164         100
1571         6723          1        0.996423         100
2059         2662          1        0.998164         100
1569         2357          1        0.996423         100
1718         3919          1        0.996423         100
2601         2672          1        0.998164         100
1510         6633          1        0.996423         100
2001         8108          1        0.998164         100
1475         3421          1        0.996423         100
2612         8098          1        0.998164         100
2607         8078          1        0.996423         100
249          6538          1        0.996423         100
2113         7234          1        0.999383         100
2603         7215          1        0.998051         100
1972         5791          1        0.998164         100
2668         5802          1        0.998164         100
2293         6617          1        0.996423         100
2258         4784          1        0.998164         100
963          3095          1        0.996662         100
559          4786          1        0.998164         100
893          8055          1        0.998164         100
728          3455          1        0.996423         100
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assigning-labels-to-test-set-taking-cutoff-as-0.3}{%
\subparagraph{Assigning labels to test set taking cut=off as
0.3}\label{assigning-labels-to-test-set-taking-cutoff-as-0.3}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{122}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{final\PYZus{}predicted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted\PYZus{}prob}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.3} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{123}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{123}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Prospect ID  Converted  Converted\_prob  Lead\_Score  final\_predicted
0          465          0        0.125209          13                0
1         5424          0        0.220807          22                0
2         3503          0        0.139620          14                0
3         4465          0        0.139620          14                0
4         5394          0        0.453095          45                1
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{computing-evaluation-metrics-on-test-set-taking-cutoff-as-0.3}{%
\subparagraph{Computing Evaluation Metrics on test set taking cut=off as
0.3}\label{computing-evaluation-metrics-on-test-set-taking-cutoff-as-0.3}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{124}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Let\PYZsq{}s check the overall accuracy.}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ACCURACY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{metrics}\PY{o}{.}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{final\PYZus{}predicted}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
ACCURACY:
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{124}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
0.791039294895336
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{125}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{confusion2} \PY{o}{=} \PY{n}{metrics}\PY{o}{.}\PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{final\PYZus{}predicted} \PY{p}{)}
\PY{n}{confusion2}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{125}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array([[1279,  383],
       [ 186,  875]], dtype=int64)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{126}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{TP} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} true positive }
\PY{n}{TN} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} true negatives}
\PY{n}{FP} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]} \PY{c+c1}{\PYZsh{} false positives}
\PY{n}{FN} \PY{o}{=} \PY{n}{confusion2}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]} \PY{c+c1}{\PYZsh{} false negatives}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{127}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SENSITIVITY / RECALL:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FN}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SENSITIVITY / RECALL:
0.824693685202639
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{128}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SPECIFICITY:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TN} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TN}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SPECIFICITY:
0.7695547533092659
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{129}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PRECISION:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{TP}\PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{TP}\PY{o}{+}\PY{n}{FP}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
PRECISION:
0.6955484896661367
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{130}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{F1 SCORE:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{metrics}\PY{o}{.}\PY{n}{f1\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{Converted}\PY{p}{,} \PY{n}{y\PYZus{}train\PYZus{}pred\PYZus{}final}\PY{o}{.}\PY{n}{predicted}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
F1 SCORE:
0.7090316573556799
    \end{Verbatim}

    \hypertarget{finally-our-13-feature-model-was-able-to-obtain}{%
\subsubsection{Finally, our 13-feature model was able to
obtain:}\label{finally-our-13-feature-model-was-able-to-obtain}}

\hypertarget{test-scores}{%
\paragraph{Test Scores:}\label{test-scores}}

\begin{verbatim}
            - ACCURACY:               79.10%
            - SPECIFICITY:            76.95%
            - SENSITIVITY / RECALL:   82.47%
            - PRECISION:              69.55%
            - F1 SCORE:               70.90%
            
\end{verbatim}

\begin{longtable}[]{@{}r@{}}
\toprule
\endhead
\begin{minipage}[t]{0.97\columnwidth}\raggedleft
Thank you!\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]

\end{Verbatim}
\end{tcolorbox}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
